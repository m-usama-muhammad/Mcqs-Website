<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MCQs Master.PAK - Online MCQs</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: #87d194;
      color: #333;
    }
    header { 
      background: linear-gradient(135deg, #004d00, #00b300); 
      color: #ffffff; 
      padding: 40px 20px; 
      text-align: center; 
    }
    header h1 { margin: 0; font-size: 42px; font-weight: bold; } /* Removed white-space: nowrap; to allow wrapping if text is too long */
    header h1 span { color: #00ff00; }
    header p { margin-top: 10px; font-size: 40px; color: #f0f0f0; }

    nav { 
      background: #ffffff; 
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      padding: 15px 20px; /* Reduced horizontal padding for better fit on smaller screens */
      position: sticky; 
      top: 0; 
      z-index: 100; 
      box-shadow: 0px 2px 10px rgba(0,0,0,0.1);
      flex-wrap: wrap; /* Allow nav items to wrap if space is constrained */
    }
    .logo { 
        font-size: 22px; 
        font-weight: bold; 
        color: #006600; 
        white-space: nowrap; /* Keep logo on one line */
        margin-right: 15px; /* Add some margin to separate from menu */
    }
    .logo span { color: #00b300; }
    .menu { 
      display: flex; 
      gap: 10px; 
      flex-wrap: wrap; /* Allow menu items to wrap */
      align-items: center; 
      flex-grow: 1; /* Allow menu to take available space */
      justify-content: flex-end; /* Align menu items to the right */
    }

    .menu a { 
      background: #fff; 
      color: #006600; 
      text-decoration: none; 
      font-size: 16px; 
      font-weight: 600; 
      padding: 6px 14px;
      border-radius: 6px; 
      transition: 0.3s; 
      white-space: nowrap; /* Keep individual menu items on one line */
    }
    .menu a:hover { background: #00b300; color: #fff; }

    .menu .quiz-btn {
      background: #00b300;
      color: #fff !important;
      border: 2px solid #006600;
      border-radius: 8px;
      padding: 6px 16px;
      font-weight: bold;
      transition: 0.3s;
    }
    .menu .quiz-btn:hover {
      background: #006600;
      border-color: #00ff00;
      color: #fff;
      transform: scale(1.05);
    }

    /* Search and Night Mode in Nav */
    .menu #mcqSearch {
        padding: 6px 10px; 
        border-radius: 6px; 
        border: 1px solid #030503; 
        margin-left: 15px;
        max-width: 180px; /* Constrain search input width */
        width: 100%; /* Make it flexible */
        box-sizing: border-box; /* Include padding and border in width calculation */
    }
    .menu #nightModeBtn {
        margin-left: 10px; 
        padding: 6px 12px; 
        border-radius: 6px; 
        border: none; 
        background: #006600; 
        color: #fff; 
        cursor: pointer;
        white-space: nowrap; /* Keep button text on one line */
    }

    .content { 
      margin: 30px auto; 
      padding: 30px; 
      border-radius: 15px; 
      text-align: center; 
      box-shadow: 0px 4px 20px rgba(0,0,0,0.1); 
      scroll-margin-top: 100px;
      max-width: 1000px; /* This sets the max width for all content boxes */
      width: calc(100% - 40px); /* Adjusts for padding on smaller screens */
      box-sizing: border-box; /* Include padding in width calculation */
    }

    #home { 
        background: #ffffff; 
        border: 2px solid #00b300; 
        box-shadow: 0 4px 20px rgba(0, 128, 0, 0.25); 
        /* Removed width: 100%; max-width: 100%; margin: 0; border-radius: 0; */
        /* These properties were overriding the content max-width and margin auto. */
        /* Now #home will correctly inherit/respect the .content styles for width and centering. */
        border-radius: 15px; /* Re-apply border-radius to match other content boxes */
    }

    #subjects { background: #c8f5c8; }
    #subjects h2, .mcq-form h2 { color: #004d00; margin-bottom: 20px; font-size: 28px; border-bottom: 2px solid #00b300; display: inline-block; padding-bottom: 5px; }
    .welcome-text { font-size: 20px; line-height: 1.6; color: #444; font-weight: 500; }

    .services-grid { 
        display: grid; 
        grid-template-columns: repeat(3, 1fr); 
        gap: 20px; 
        margin-top: 20px; 
    }
    .service-card { background: #fff; padding: 25px; border-radius: 12px; box-shadow: 0px 4px 10px rgba(0,0,0,0.1); text-align: center; transition: 0.3s; cursor: pointer; text-decoration: none; color: #000; }
    .service-card:hover { border: 2px solid #00b300; box-shadow: 0px 6px 20px rgba(0, 179, 0, 0.3); transform: translateY(-5px); }
    .service-card h3 { color: #004d00; margin-bottom: 10px; font-size: 20px; }
    .service-card p { font-size: 14px; color: #444; }

    .mcq-form { margin-top: 40px; background: #fff; padding: 25px; border-radius: 12px; box-shadow: 0px 4px 20px rgba(0,0,0,0.15); text-align: left; }
    .mcq-form h2 { text-align: center; display: block; width: 100%; }
    .mcq-form form { display: flex; flex-direction: column; gap: 15px; }
    .mcq-form label { font-weight: 600; color: #004d00; }
    .mcq-form input, .mcq-form select, .mcq-form textarea, .mcq-form button { padding: 12px; border-radius: 6px; border: 1px solid #ccc; font-size: 16px; width: 100%; }
    .mcq-form textarea { resize: vertical; }
    .mcq-form button { background: #00b300; color: #fff; font-weight: bold; border: none; cursor: pointer; transition: 0.3s; }
    .mcq-form button:hover { background: #006600; }

    .radio-inline { display: flex; align-items: center; gap: 20px; margin-top: 8px; flex-wrap: wrap; } /* Allow radio options to wrap */
    .radio-inline label { font-weight: 600; color: #004d00; display: flex; align-items: center; gap: 5px; cursor: pointer; font-size: 16px; }
    .radio-inline input[type="radio"] { transform: scale(1.1); margin-left: 2px; width: auto; /* Radio buttons shouldn't take full width */ }

    .confirmation { margin-top: 25px; padding: 20px; border: 2px solid #00b300; border-radius: 10px; background: #f0fff0; box-shadow: 0px 4px 10px rgba(0,128,0,0.2); position: relative; }
    .confirmation h3 { color: #004d00; margin-bottom: 10px; }
    .confirmation ul { list-style: none; padding: 0; }
    .confirmation li { margin-bottom: 5px; }
    .confirmation .correct { font-weight: bold; color: #006600; }
    .confirmation .user-name { position: absolute; top: 10px; right: 15px; font-weight: bold; color: #004d00; }
    .tick { color: green; font-size: 22px; font-weight: bold; margin-left: 10px; }

    /* Registration Modal Overlay */
    #registrationModal { 
      display: none; 
      position: fixed; 
      top: 0; left: 0; width: 100%; height: 100%; 
      background: rgba(0,0,0,0.7); 
      z-index: 200; 
      justify-content: center; 
      align-items: center; 
    }
    #registrationModal .modal-content {
      background: #fff; 
      padding: 30px; 
      border-radius: 15px; 
      width: 400px; 
      max-width: 90%;
      box-shadow: 0px 4px 20px rgba(0,0,0,0.3);
      text-align: left;
      position: relative;
    }
    #registrationModal .modal-content h2 { text-align: center; color: #004d00; }
    #registrationModal .modal-content button { width: 100%; margin-top: 15px; }

    /* Close button for modal */
    #registrationModal .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 22px;
      font-weight: bold;
      color: #444;
      cursor: pointer;
      transition: 0.3s;
    }
    #registrationModal .close-btn:hover { color: red; }

    footer { background: #222; color: #fff; text-align: center; padding: 20px; margin-top: 20px; font-size: 14px; }
    footer span { color: #00ff00; font-weight: bold; }

    /* Dark Mode */
    .dark-mode { background:#121212; color:#f0f0f0; }
    .dark-mode header { background:#003300; color:#fff; }
    .dark-mode nav { background:#1b1b1b; color:#fff; }
    .dark-mode .menu a { color:#fff; background:#333; }
    .dark-mode .menu a:hover { background:#00b300; color:#fff; }
    .dark-mode .content, 
    .dark-mode .mcq-form, 
    .dark-mode #home, 
    .dark-mode #subjects, 
    .dark-mode .service-card,
    .dark-mode #registrationModal .modal-content { 
      background:#345040; 
      color:#f0f0f0; 
      border-color:#00b300; 
    }
    .dark-mode .confirmation { background:#2a2a2a; border-color:#00ff00; color:#fff; }
    .dark-mode input, 
    .dark-mode select, 
    .dark-mode textarea, 
    .dark-mode button { background:#333; color:#fff; border:1px solid #555; }

    .dark-mode h1, 
    .dark-mode h2, 
    .dark-mode h3, 
    .dark-mode p, 
    .dark-mode label, 
    .dark-mode .welcome-text, 
    .dark-mode .service-card h3, 
    .dark-mode .service-card p {
      color: #ffffff !important;
    }
    .dark-mode .menu .quiz-btn {
      background: #ffffff !important;
      color: #000000 !important;
      border: 2px solid #ffffff !important;
    }
    .dark-mode .menu .quiz-btn:hover {
      background: #00ff99 !important;
      color: #000000 !important;
      border: 2px solid #00ff99 !important;
      transform: scale(1.05);
    }

    /* Media Queries for better responsiveness */
    @media (max-width: 1200px) {
        .menu {
            justify-content: center; /* Center menu items when they wrap */
            margin-top: 10px; /* Add space when logo and menu wrap */
        }
        nav {
            flex-direction: column; /* Stack logo and menu vertically */
            align-items: center;
        }
        .logo {
            margin-bottom: 10px;
            margin-right: 0;
        }
    }

    @media (max-width: 768px) {
        header h1 { font-size: 32px; }
        header p { font-size: 28px; }
        .menu a { padding: 4px 10px; font-size: 14px; }
        .menu #mcqSearch { max-width: 100%; margin-left: 0; margin-top: 10px; }
        .menu #nightModeBtn { margin-left: 0; margin-top: 10px; }
        .services-grid { grid-template-columns: repeat(2, 1fr); }
        .service-card:last-child { grid-column: auto; } /* Reset for smaller screens */
        .content { padding: 20px; }
    }

    @media (max-width: 480px) {
        header h1 { font-size: 28px; }
        header p { font-size: 20px; }
        .menu { flex-direction: column; gap: 5px; }
        .menu a { width: 100%; text-align: center; }
        .menu #mcqSearch, .menu #nightModeBtn { width: 100%; margin-left: 0; }
        .services-grid { grid-template-columns: 1fr; }
        .service-card:last-child { grid-column: auto; }
        .mcq-form { padding: 15px; }
        .radio-inline { flex-direction: column; align-items: flex-start; gap: 10px; }
    }
  </style>
</head>
<body>

<header>
  <h1>MCQs Master.<span>PAK</span></h1>
  <p>Your ultimate platform to prepare for competitive exams and tests</p>
</header>

<nav>
  <div class="logo">MCQs Master.<span>PAK</span></div>
  <div class="menu">
    <a href="#home">Home</a>
    <a href="#subjects">Subjects</a>
    <a href="gk/gkmcqssection.html" target="_blank">GK</a>
    <a href="pakstudies/pakstudiessmcqssection" target="_blank">Pak Studies</a>
    <a href="islamicstudies/islamicstudiesmcqssection.html" target="_blank">Islamiat</a>
    <a href="everydayscience/everydaysciencemcqssection.html" target="_blank">Science</a>
    <a href="computer/computermcqssection.html" target="_blank">Computer</a>
    <a href="currentaffairs/currentaffairsmcqssection.html" target="_blank">Current Affairs</a>
    <a href="others/othersmcqssection.html" target="_blank">Others</a>
    <a href="quiz.html" class="quiz-btn">Quiz</a>

    <!-- Search and Night Mode -->
    <input type="text" id="mcqSearch" placeholder="Search MCQs...">
    <button id="nightModeBtn">üåô Night Mode</button>
  </div>
</nav>

<div class="content" id="home">
  <h2>Welcome to MCQs Master.PAK</h2>
  <p class="welcome-text">
    Here you will find categorized MCQs of <b>General Knowledge</b>, <b>Pakistan Studies</b>, 
    <b>Islamic Studies</b>, <b>Everyday Science</b>, <b>Computer</b>, <b>Current Affairs</b> and <b>Others</b> 
    to help you prepare for exams and tests effectively.
  </p>
</div>

<div class="content" id="subjects">
  <h2>Our Subjects</h2>
  <div class="services-grid">
    <a href="gk/gkmcqssection.html" target="_blank" class="service-card">
      <h3>General Knowledge</h3>
      <p>World GK, Capitals, Personalities, Important Events and more.</p>
    </a>
    <a href="pakstudies/pakstudiessmcqssectionl" target="_blank" class="service-card">
      <h3>Pakistan Studies</h3>
      <p>History of Pakistan, Constitutions, Geography and National Movements.</p>
    </a>
    <a href="islamicstudies/islamicstudiesmcqssection.html" target="_blank" class="service-card">
      <h3>Islamic Studies</h3>
      <p>Quran, Hadith, Prophets, Islamic History, Battles and Teachings.</p>
    </a>
    <a href="everydayscience/everydaysciencemcqssection.html" target="_blank" class="service-card">
      <h3>Everyday Science</h3>
      <p>Physics, Chemistry, Biology, Discoveries and Scientific Inventions.</p>
    </a>
    <a href="computer/computermcqssection.html" target="_blank" class="service-card">
      <h3>Computer</h3>
      <p>Computer Basics, MS Office, Internet, IT and Programming MCQs.</p>
    </a>
    <a href="currentaffairs/currentaffairsmcqssection.html" target="_blank" class="service-card">
      <h3>Current Affairs</h3>
      <p>National and International Current Affairs, Latest Updates.</p>
    </a>
    <a href="others/otherscurrentaffairs/currentaffairsmcqssection.html.html" target="_blank" class="service-card"> <!-- Removed style="grid-column: 2;" to make it flow naturally on all screen sizes -->
      <h3>Others</h3>
      <p>Miscellaneous MCQs from Math, English, Current Affairs and more.</p>
    </a>
  </div>

  <div class="mcq-form">
    <h2><u>Add New MCQs</u></h2>
    <form id="mcqForm">
      <label for="subject">Select Subject:</label>
      <select id="subject" name="subject" required>
        <option value="">-- Choose Subject --</option>
        <option value="gk">General Knowledge</option>
        <option value="pakstudies">Pakistan Studies</option>
        <option value="islamiat">Islamic Studies</option>
        <option value="science">Everyday Science</option>
        <option value="computer">Computer</option>
        <option value="currentaffairs">Current Affairs</option>
        <option value="others">Others</option>
      </select>

      <label for="question">Question:</label>
      <textarea id="question" name="question" rows="3" placeholder="Write a question here..." required></textarea>

      <label>Options:</label>
      <input type="text" id="option1" name="option1" placeholder="Option 1" required>
      <input type="text" id="option2" name="option2" placeholder="Option 2" required>
      <input type="text" id="option3" name="option3" placeholder="Option 3" required>
      <input type="text" id="option4" name="option4" placeholder="Option 4" required>

      <label for="details">More Details:</label>
      <textarea id="details" name="details" rows="3" placeholder="Write more details about this MCQ..." required></textarea>

      <div class="radio-inline">
        <label style="margin-right:10px;">Select Correct Option:</label>
        <label>A <input type="radio" name="correct" value="1" required></label>
        <label>B <input type="radio" name="correct" value="2"></label>
        <label>C <input type="radio" name="correct" value="3"></label>
        <label>D <input type="radio" name="correct" value="4"></label>
      </div>

      <button type="submit">Add MCQ</button>
    </form>

    <div id="confirmationArea"></div>
  </div>
</div>

<!-- Registration Modal -->
<div id="registrationModal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <h2>User Registration</h2>
    <form id="regForm">
      <label for="fullname">Full Name:</label>
      <input type="text" id="fullname" name="fullname" placeholder="Enter your full name..." required>

      <label for="mobile">Mobile Number:</label>
      <div style="display:flex; gap:5px;">
        <select id="countryCode" required>
          <option value="+92300">+92300</option>
          <option value="+92301">+92301</option>
          <option value="+92302">+92302</option>
          <option value="+92303">+92303</option>
          <option value="+92304">+92304</option>
          <option value="+92305">+92305</option>
          <option value="+92306">+92306</option>
          <option value="+92307">+92307</option>
          <option value="+92308">+92308</option>
          <option value="+92309">+92309</option>
        </select>
        <input type="text" id="mobile" name="mobile" placeholder="Enter mobile number..." required pattern="[0-9]{7}">
      </div>

      <label for="username">Username:</label>
      <input type="text" id="username" name="username" placeholder="Choose a username..." required>

      <label for="password">Password:</label>
      <input type="password" id="password" name="password" placeholder="Enter password..." required minlength="6">

      <label for="confirmpassword">Confirm Password:</label>
      <input type="password" id="confirmpassword" name="confirmpassword" placeholder="Re-enter password..." required minlength="6">

      <button type="submit">Register</button>
    </form>
    <div id="regConfirmation"></div>
  </div>
</div>

<footer>
  &copy; 2025 MCQs Master.<span>PAK</span> | All rights reserved
</footer>

<script>
  // Function to convert string to title case
  function toTitleCase(str) {
    return str
      .toLowerCase()
      .split(' ')
      .map(word => word.charAt(0).toUpperCase() + word.slice(1))
      .join(' ');
  }

  // Apply title case on blur for the fields
  const fieldsToTitleCase = ['question', 'option1', 'option2', 'option3', 'option4', 'details'];
  fieldsToTitleCase.forEach(id => {
    const element = document.getElementById(id);
    if (element) {
      element.addEventListener('blur', () => {
        element.value = toTitleCase(element.value.trim());
      });
    }
  });

  // Night Mode Toggle
  const nightBtn = document.getElementById("nightModeBtn");
  nightBtn.addEventListener("click", () => {
    document.body.classList.toggle("dark-mode");
  });

  // MCQ Form Submission
  const mcqForm = document.getElementById("mcqForm");
  const confirmationArea = document.getElementById("confirmationArea");
  mcqForm.addEventListener("submit", function(e){
    e.preventDefault();
    const subjectSelect = document.getElementById("subject");
    const subject = subjectSelect.options[subjectSelect.selectedIndex].text; // Use text instead of value for display
    const question = toTitleCase(document.getElementById("question").value.trim());
    const option1 = toTitleCase(document.getElementById("option1").value.trim());
    const option2 = toTitleCase(document.getElementById("option2").value.trim());
    const option3 = toTitleCase(document.getElementById("option3").value.trim());
    const option4 = toTitleCase(document.getElementById("option4").value.trim());
    const details = toTitleCase(document.getElementById("details").value.trim());
    const correct = document.querySelector('input[name="correct"]:checked')?.value;
    const userName = localStorage.getItem("userName") || "Anonymous";

    if(!correct){ alert("Please select the correct option"); return; }

    const mcqData = {
      subject: subjectSelect.value, // Keep value for potential use
      question, options:[option1,option2,option3,option4], details, correct
    };
    const confirmationHTML = `<div class="confirmation">
      <h3>MCQ Added Successfully ‚úÖ</h3>
      <span class="user-name">Submitted by: ${userName}</span>
      <ul>
        <li><b>Subject:</b> ${subject}</li>
        <li><b>Question:</b> ${question}</li>
        <li><b>Options:</b> ${option1}, ${option2}, ${option3}, ${option4}</li>
        <li><b>Correct Option:</b> <span class="correct">${correct}</span></li>
        <li><b>Details:</b> ${details}</li>
      </ul>
    </div>`;
    confirmationArea.insertAdjacentHTML('beforeend', confirmationHTML);
    mcqForm.reset();
  });

    // Registration Modal logic
  const registrationModal = document.getElementById("registrationModal");
  const regForm = document.getElementById("regForm");
  const regConfirmation = document.getElementById("regConfirmation");
  const closeBtn = document.querySelector(".close-btn");

  // Open modal when quiz button is clicked
  document.querySelector(".quiz-btn").addEventListener("click", function(e){
    e.preventDefault();
    registrationModal.style.display = "flex";
  });

  // Close modal
  closeBtn.addEventListener("click", () => { registrationModal.style.display = "none"; });
  window.addEventListener("click", (e) => { if(e.target === registrationModal) registrationModal.style.display = "none"; });

  // Handle registration
  regForm.addEventListener("submit", function(e){
    e.preventDefault();
    let fullname = document.getElementById("fullname").value.trim();
    let mobile = document.getElementById("mobile").value.trim();
    let countryCode = document.getElementById("countryCode").value;
    let username = document.getElementById("username").value.trim();
    let password = document.getElementById("password").value.trim();
    let confirmpassword = document.getElementById("confirmpassword").value.trim();

    if(password !== confirmpassword){
      alert("Passwords do not match!");
      return;
    }

    let fullMobile = countryCode + mobile;

    localStorage.setItem("userName", fullname);
    localStorage.setItem("userMobile", fullMobile);
    localStorage.setItem("userUsername", username);

    regConfirmation.innerHTML = `<p style="color:green; font-weight:bold;">Registration Successful! Welcome, ${fullname}</p>`;
    setTimeout(() => { registrationModal.style.display = "none"; regConfirmation.innerHTML = ""; }, 1500);
  });
</script>

<script>
// === START: Multi-Page Search Functionality ===
const searchInput = document.getElementById("mcqSearch");
// Re-added searchBtn, assuming it was meant to be included in the HTML based on JS.
// If you don't have a specific search button in your HTML, this part of JS might not work
// or you might intend for the search to happen on 'enter' key press on the input field.
// For now, I'll assume you wanted a button. If not, you can remove the next line and adjust the JS trigger.
const searchBtn = document.getElementById("nightModeBtn"); // Assuming a placeholder, you should add a dedicated search button if you want one.
// The original code used searchBtn but the HTML only had an input.
// I'm assuming 'searchBtn' was intended to be next to 'mcqSearch'.
// For this code, I'll update the searchBtn reference to a hypothetical new search button.
// Or, if you meant to trigger search on enter in the input, that would be a different JS event listener.
// For now, let's assume you want a separate search button for the search functionality.
// **IMPORTANT**: You need to add a button in your HTML like `<button id="searchButton">Search</button>` next to your search input field.
// If you don't add a button with `id="searchButton"`, the search functionality won't trigger from a button click.
// For demonstration, I will adjust the JS to assume the search happens on 'Enter' key press if no button is defined.

// Let's modify the search logic to trigger on 'Enter' key press in the search input
searchInput.addEventListener("keypress", function(event) {
  if (event.key === "Enter") {
    event.preventDefault(); // Prevent default form submission
    performSearch();
  }
});

// Create a function for the search logic to be callable
async function performSearch() {
  const query = searchInput.value.trim().toLowerCase();
  let resultsContainer = document.getElementById("searchResults");
  if (!resultsContainer) {
    resultsContainer = document.createElement("div");
    resultsContainer.id = "searchResults";
    resultsContainer.style.marginTop = "25px"; /* Adjusted margin for consistency */
    resultsContainer.style.padding = "15px"; /* Adjusted padding */
    resultsContainer.style.border = "2px solid #00b300";
    resultsContainer.style.borderRadius = "10px"; /* Adjusted border-radius */
    resultsContainer.style.background = "#f8fff8";
    resultsContainer.style.maxWidth = "1000px"; /* Match content box max-width */
    resultsContainer.style.margin = "30px auto"; /* Center it like other content boxes */
    document.querySelector('footer').insertAdjacentElement("beforebegin", resultsContainer); // Place it before the footer
  }

  resultsContainer.innerHTML = ""; // clear old results
  if (!query) {
    resultsContainer.innerHTML = `<div class="confirmation"><h3 style="color:#c0392b">Please enter a keyword to search üîé</h3></div>`;
    return;
  }

  resultsContainer.innerHTML = `<div class="confirmation"><h3>Searching all pages for "<b>${query}</b>"...</h3></div>`;

  let found = false;
  let combinedResults = "";

  // Pages list (you can add more here if needed)
  const pagesToSearch = [
    "index.html",
    "gk.html",
    "computer.html",
    "islamiyat.html",
    "pakistan.html",
    "everyday.html"
  ];

  // Search every listed page
  for (const page of pagesToSearch) {
    try {
      const response = await fetch(page);
      const text = await response.text();
      const lowerText = text.toLowerCase();

      if (lowerText.includes(query)) {
        found = true;
        const snippetIndex = lowerText.indexOf(query);
        const snippet = text.substring(
          Math.max(0, snippetIndex - 80),
          Math.min(text.length, snippetIndex + 120)
        );

        combinedResults += `
          <div style="border-bottom:1px solid #ccc; padding:10px 0;">
            <h4>üìÑ Found in <a href="${page}" target="_blank">${page}</a></h4>
            <p>${snippet.replace(new RegExp(query, "gi"), match => `<mark>${match}</mark>`)}</p>
          </div>`;
      }
    } catch (err) {
      console.error("Error fetching or parsing:", page, err); // Use console.error for errors
    }
  }

  if (found) {
    resultsContainer.innerHTML = `
      <div class="confirmation">
        <h3>‚úÖ Results Found for "<b>${query}</b>":</h3>
        ${combinedResults}
      </div>`;
  } else {
    resultsContainer.innerHTML = `
      <div class="confirmation">
        <h3>‚ùå No Match Found</h3>
        <p>No page in your website contains "<b>${query}</b>".</p>
      </div>`;
  }
}
// === END: Multi-Page Search Functionality ===
</script>

</body>
</html>